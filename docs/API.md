# API

API authentication is based on OAuth2 protocol. You'll have to send username/email and password against a token that will used later.
Token has 10 minutes of lifetime and refreshToken 30 days of lifetime.

## Example

### Register User 
Request :
```
curl -X POST \
  http://poster.dev/api/register \
  -H 'cache-control: no-cache' \
  -H 'content-type: application/json' \
  -H 'postman-token: 091fabe4-1f4f-149d-afb8-ee03b97e23f6' \
  -d '{
	"email": "mail@domain.co",
	"password": "1234",
	"name": "Name"
}'
```

Response :
```
{
    "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6IjIwZDc5NzliYWFhMGUxY2Q4NmU4Njg5NDkwMDM2MjNkNTVmMDMyZGY3MjQxNGZhMjdhOTE4YWUzZWFjMjM3MjQ5MmE3YTMyMWRkMGIxOTQxIn0.eyJhdWQiOiIyIiwianRpIjoiMjBkNzk3OWJhYWEwZTFjZDg2ZTg2ODk0OTAwMzYyM2Q1NWYwMzJkZjcyNDE0ZmEyN2E5MThhZTNlYWMyMzcyNDkyYTdhMzIxZGQwYjE5NDEiLCJpYXQiOjE1MTA0NDU4MDEsIm5iZiI6MTUxMDQ0NTgwMSwiZXhwIjoxNTEwNDQ2NDAwLCJzdWIiOiIxIiwic2NvcGVzIjpbXX0.bEg_bys9FqbhoPAgko7CDs2SF32dQh_MThYJcRAMi9QQaDtlnq4r_TGxGZihwoyefJl8rB3venYlu_k80m14h9C2UF1PGGCT8He4vxN3_NkibJtID-BltVnAHhvsxUy9t-dDmOE1BXwidHSA9zmClIA6TdeFWHVT11z4MJujLlH6IDg44rC-4p8NU6CXyzfnIBEqXV6vNsOUaHHSwFW5wRnszDW2cehthXzhA-QvR_cMLO0bJTK7c4oTQB71H36xG8fGkFBWMbXn0w53JuQae8jOxP-773Vjls0Ef2Pixq-DWYHBBTMNKJjYbDit9RSgnag0NBVNHnPT8TDkfntYebiXfHk_FKG6HlOSZUTM9mwTarhgDiv9U5QFH3w_zygYLLIE9vUaQNY57TJib2f1B0dkOGcxKw-VSShlSu6SIdJUUKb4N_wRrqbhc3PKlsAGfWAmjo9igFUpLRlIYIfwcy54P_nm8KVA4OeF5rPlfKsM8w6ov6EHrOLmqXrIGPdZXQYUVmqJkZBk67rvymvm8IuuVzIaT5T8xQgeOS2xjdGc_3Oh_Ocmurh1Jt5VKAvbZybZnPPp15zACSH6pFRNN-TdTlCokONn04FIciGJjB5lKC1R35euIoOnqQBJsvQ7J71p5RWEdp2qhnCUC7NhuTUGTCPCn96fNacHbGG43Kc",
    "expires_in": 599,
    "refresh_token": "def50200a13bc4885c3c63a84c5d397576312a62027f649a1136c04644b9328587ad8016de5dc18483f2f4bafaaf4612b8768e1afcea43d19959a4f13d63cc8a03ba26b67e70ac58bfa8bdea572af3ec15a16390d05e3ebba8651bc73cb8d962204c321b536576dfe05fbacb1a3916dd4ccb0b12e7fbbbb0a0239b7f24ec4a7b6987088ba59cd2a0edee693051b899f166155e1ba63e50027bfaf5d545d1779b5ce752f2268e475a2fe3ddb104c4ebb8fc6453b1bf3ff95a68e588e23ba5776e68b9080deff79fbcde9135fa6b29ee3d4622faaa034b534fa8e314a5f3e0e56c0208213e0957fe1df91fcdce36ce135a27c138de90541339ff15444456312f673cdeefffd528d6ad33dab0a3d332dbf7705a5e349c39eab00e8461d6cefdfe7ba25e146a0d0f7b940d31f182417b6944fb0cab429b33a5d3cb073bec6c00be592e181011364a5036016a02d37dab3dfbf58ef5e6c088b39d14b4a9c81535246492"
}
```

### Get token
Request :
```
curl -X POST \
  http://poster.dev/api/login \
  -H 'cache-control: no-cache' \
  -H 'content-type: application/json' \
  -d '{
	"email": "mail@domain.co",
	"password": "1234"
}'
```

Response :
```
{
    "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6IjIwZDc5NzliYWFhMGUxY2Q4NmU4Njg5NDkwMDM2MjNkNTVmMDMyZGY3MjQxNGZhMjdhOTE4YWUzZWFjMjM3MjQ5MmE3YTMyMWRkMGIxOTQxIn0.eyJhdWQiOiIyIiwianRpIjoiMjBkNzk3OWJhYWEwZTFjZDg2ZTg2ODk0OTAwMzYyM2Q1NWYwMzJkZjcyNDE0ZmEyN2E5MThhZTNlYWMyMzcyNDkyYTdhMzIxZGQwYjE5NDEiLCJpYXQiOjE1MTA0NDU4MDEsIm5iZiI6MTUxMDQ0NTgwMSwiZXhwIjoxNTEwNDQ2NDAwLCJzdWIiOiIxIiwic2NvcGVzIjpbXX0.bEg_bys9FqbhoPAgko7CDs2SF32dQh_MThYJcRAMi9QQaDtlnq4r_TGxGZihwoyefJl8rB3venYlu_k80m14h9C2UF1PGGCT8He4vxN3_NkibJtID-BltVnAHhvsxUy9t-dDmOE1BXwidHSA9zmClIA6TdeFWHVT11z4MJujLlH6IDg44rC-4p8NU6CXyzfnIBEqXV6vNsOUaHHSwFW5wRnszDW2cehthXzhA-QvR_cMLO0bJTK7c4oTQB71H36xG8fGkFBWMbXn0w53JuQae8jOxP-773Vjls0Ef2Pixq-DWYHBBTMNKJjYbDit9RSgnag0NBVNHnPT8TDkfntYebiXfHk_FKG6HlOSZUTM9mwTarhgDiv9U5QFH3w_zygYLLIE9vUaQNY57TJib2f1B0dkOGcxKw-VSShlSu6SIdJUUKb4N_wRrqbhc3PKlsAGfWAmjo9igFUpLRlIYIfwcy54P_nm8KVA4OeF5rPlfKsM8w6ov6EHrOLmqXrIGPdZXQYUVmqJkZBk67rvymvm8IuuVzIaT5T8xQgeOS2xjdGc_3Oh_Ocmurh1Jt5VKAvbZybZnPPp15zACSH6pFRNN-TdTlCokONn04FIciGJjB5lKC1R35euIoOnqQBJsvQ7J71p5RWEdp2qhnCUC7NhuTUGTCPCn96fNacHbGG43Kc",
    "expires_in": 599,
    "refresh_token": "def50200a13bc4885c3c63a84c5d397576312a62027f649a1136c04644b9328587ad8016de5dc18483f2f4bafaaf4612b8768e1afcea43d19959a4f13d63cc8a03ba26b67e70ac58bfa8bdea572af3ec15a16390d05e3ebba8651bc73cb8d962204c321b536576dfe05fbacb1a3916dd4ccb0b12e7fbbbb0a0239b7f24ec4a7b6987088ba59cd2a0edee693051b899f166155e1ba63e50027bfaf5d545d1779b5ce752f2268e475a2fe3ddb104c4ebb8fc6453b1bf3ff95a68e588e23ba5776e68b9080deff79fbcde9135fa6b29ee3d4622faaa034b534fa8e314a5f3e0e56c0208213e0957fe1df91fcdce36ce135a27c138de90541339ff15444456312f673cdeefffd528d6ad33dab0a3d332dbf7705a5e349c39eab00e8461d6cefdfe7ba25e146a0d0f7b940d31f182417b6944fb0cab429b33a5d3cb073bec6c00be592e181011364a5036016a02d37dab3dfbf58ef5e6c088b39d14b4a9c81535246492"
}
```

### Refresh if token is dead

Request :
```
curl -X POST \
  http://poster.dev/api/login/refresh \
  -H 'cache-control: no-cache' \
  -H 'content-type: application/json' \
  -d '{
	"refresh_token": "def50200a13bc4885c3c63a84c5d397576312a62027f649a1136c04644b9328587ad8016de5dc18483f2f4bafaaf4612b8768e1afcea43d19959a4f13d63cc8a03ba26b67e70ac58bfa8bdea572af3ec15a16390d05e3ebba8651bc73cb8d962204c321b536576dfe05fbacb1a3916dd4ccb0b12e7fbbbb0a0239b7f24ec4a7b6987088ba59cd2a0edee693051b899f166155e1ba63e50027bfaf5d545d1779b5ce752f2268e475a2fe3ddb104c4ebb8fc6453b1bf3ff95a68e588e23ba5776e68b9080deff79fbcde9135fa6b29ee3d4622faaa034b534fa8e314a5f3e0e56c0208213e0957fe1df91fcdce36ce135a27c138de90541339ff15444456312f673cdeefffd528d6ad33dab0a3d332dbf7705a5e349c39eab00e8461d6cefdfe7ba25e146a0d0f7b940d31f182417b6944fb0cab429b33a5d3cb073bec6c00be592e181011364a5036016a02d37dab3dfbf58ef5e6c088b39d14b4a9c81535246492"
}'
```

Response :
```
{
    "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6IjIwZDc5NzliYWFhMGUxY2Q4NmU4Njg5NDkwMDM2MjNkNTVmMDMyZGY3MjQxNGZhMjdhOTE4YWUzZWFjMjM3MjQ5MmE3YTMyMWRkMGIxOTQxIn0.eyJhdWQiOiIyIiwianRpIjoiMjBkNzk3OWJhYWEwZTFjZDg2ZTg2ODk0OTAwMzYyM2Q1NWYwMzJkZjcyNDE0ZmEyN2E5MThhZTNlYWMyMzcyNDkyYTdhMzIxZGQwYjE5NDEiLCJpYXQiOjE1MTA0NDU4MDEsIm5iZiI6MTUxMDQ0NTgwMSwiZXhwIjoxNTEwNDQ2NDAwLCJzdWIiOiIxIiwic2NvcGVzIjpbXX0.bEg_bys9FqbhoPAgko7CDs2SF32dQh_MThYJcRAMi9QQaDtlnq4r_TGxGZihwoyefJl8rB3venYlu_k80m14h9C2UF1PGGCT8He4vxN3_NkibJtID-BltVnAHhvsxUy9t-dDmOE1BXwidHSA9zmClIA6TdeFWHVT11z4MJujLlH6IDg44rC-4p8NU6CXyzfnIBEqXV6vNsOUaHHSwFW5wRnszDW2cehthXzhA-QvR_cMLO0bJTK7c4oTQB71H36xG8fGkFBWMbXn0w53JuQae8jOxP-773Vjls0Ef2Pixq-DWYHBBTMNKJjYbDit9RSgnag0NBVNHnPT8TDkfntYebiXfHk_FKG6HlOSZUTM9mwTarhgDiv9U5QFH3w_zygYLLIE9vUaQNY57TJib2f1B0dkOGcxKw-VSShlSu6SIdJUUKb4N_wRrqbhc3PKlsAGfWAmjo9igFUpLRlIYIfwcy54P_nm8KVA4OeF5rPlfKsM8w6ov6EHrOLmqXrIGPdZXQYUVmqJkZBk67rvymvm8IuuVzIaT5T8xQgeOS2xjdGc_3Oh_Ocmurh1Jt5VKAvbZybZnPPp15zACSH6pFRNN-TdTlCokONn04FIciGJjB5lKC1R35euIoOnqQBJsvQ7J71p5RWEdp2qhnCUC7NhuTUGTCPCn96fNacHbGG43Kc",
    "expires_in": 599,
    "refresh_token": "def50200a13bc4885c3c63a84c5d397576312a62027f649a1136c04644b9328587ad8016de5dc18483f2f4bafaaf4612b8768e1afcea43d19959a4f13d63cc8a03ba26b67e70ac58bfa8bdea572af3ec15a16390d05e3ebba8651bc73cb8d962204c321b536576dfe05fbacb1a3916dd4ccb0b12e7fbbbb0a0239b7f24ec4a7b6987088ba59cd2a0edee693051b899f166155e1ba63e50027bfaf5d545d1779b5ce752f2268e475a2fe3ddb104c4ebb8fc6453b1bf3ff95a68e588e23ba5776e68b9080deff79fbcde9135fa6b29ee3d4622faaa034b534fa8e314a5f3e0e56c0208213e0957fe1df91fcdce36ce135a27c138de90541339ff15444456312f673cdeefffd528d6ad33dab0a3d332dbf7705a5e349c39eab00e8461d6cefdfe7ba25e146a0d0f7b940d31f182417b6944fb0cab429b33a5d3cb073bec6c00be592e181011364a5036016a02d37dab3dfbf58ef5e6c088b39d14b4a9c81535246492"
}
```

### Example API request

Request :
```
curl -X GET \
  http://poster.dev/api/user \
  -H 'accept: application/json' \
  -H 'authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6IjhlNTA0ZGViZTVjODdhNzZiYWE5YWViMmRkZjcwZWIxZWZiMDllMWE3OTgwOWExODA0NDQ5YWI0MGEyZDg5NjAxMTRiZTdlOTM5ZTAzYWZjIn0.eyJhdWQiOiIyIiwianRpIjoiOGU1MDRkZWJlNWM4N2E3NmJhYTlhZWIyZGRmNzBlYjFlZmIwOWUxYTc5ODA5YTE4MDQ0NDlhYjQwYTJkODk2MDExNGJlN2U5MzllMDNhZmMiLCJpYXQiOjE1MTA0NDU5NTMsIm5iZiI6MTUxMDQ0NTk1MywiZXhwIjoxNTEwNDQ2NTUyLCJzdWIiOiIxIiwic2NvcGVzIjpbXX0.ZKp2ZwaJZknZ9KROYcCAUwPPvlKujA783cMCTkiKr9BER8NiqR5O16MosR6xicXazQJpBCSNIVBfOpOnQTp1M1ixjchpVZ1_5Mjc3EYKspMxY7ttty-7o2oBwOXLEq9aT6vJAlofdYM0KL-IUS8ybIuQBaTFjTI4pJ9M2Kz_W7cOef8EsHTLJ09RIe2J19FrhbGrmZNr_nVYeoVE4XbAZxQk9i7Hbg4TkVo7K4kFY4sQaFeNsPXiTNE8We2nlXEtVzI6FHOCppviEnzKIfrZYExhC4jgSS9y1tGmKRzv-qyVF8c3l-r3-LBsq6NuMo7Q7VtiKRzMe1rQqU932hpT3znip_wCYsiUrYp4DyLOf9TifNhMF18UrIC3hdr2yAO6cNRU0HP-Do2ZspNoM3ReVTI6DXXd2PrX0qhaO15cqKWdsHF_sq2J_IBDBdG2abnnbErMqG_uJU6EvvLy4ubl0g3_wcl9fridRKBEdkTD6lbFQjj08QcMpQmvSTEGWM01x1nBsMrO9-252UkdiitDNdtMSUwj5IVmeRJa8wdOZ3SjJYI2kFbHJoeqIaauxlZXuvWdH9VHePydEutNZXpG0U_Ap-zkX9LJHSiHC5GdJhqmxZs7lAHIjYzfuBNszXQBU-QgWF3VX3c831Srtl502oy6hyhQ1OMlOhEVkBlNfKg' \
  -H 'cache-control: no-cache' \
  -H 'content-type: application/json' \
```

Response :
```
{
    "id": 1,
    "name": "Name",
    "email": "mail@domain.co",
    "created_at": null,
    "updated_at": null
}
```
