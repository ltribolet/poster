# API

API authentication is based on OAuth2 protocol. You'll have to send username/email and password against a token that will used later.
Token has 10 minutes of lifetime and refreshToken 30 days of lifetime.

## Example

### Register User 
Request :
```
curl -X POST \
  http://poster.dev/api/register \
  -H 'cache-control: no-cache' \
  -H 'content-type: application/json' \
  -H 'postman-token: 091fabe4-1f4f-149d-afb8-ee03b97e23f6' \
  -d '{
	"email": "mail@domain.co",
	"password": "1234",
	"name": "Name"
}'
```

Response :
```
{
    "token_type": "Bearer",
    "expires_in": 599,
    "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6IjQ2Mzc3NGI1YmE3NzI0Y2EwMWY3ODMxMmRlOGUxYmRjY2E2Y2I0MzQzYjQxZjhkNmMxODAyMWMxNDAwNjQzMWQ3N2IwNDQ4ZWJmNWI3ZWIxIn0.eyJhdWQiOiIyIiwianRpIjoiNDYzNzc0YjViYTc3MjRjYTAxZjc4MzEyZGU4ZTFiZGNjYTZjYjQzNDNiNDFmOGQ2YzE4MDIxYzE0MDA2NDMxZDc3YjA0NDhlYmY1YjdlYjEiLCJpYXQiOjE1MTA3NzIwMTksIm5iZiI6MTUxMDc3MjAxOSwiZXhwIjoxNTEwNzcyNjE4LCJzdWIiOiIyIiwic2NvcGVzIjpbXX0.j5FGcNtWMry_NDJwx9H0cSM2IyF9w3EgY_zj1pKTasUrgoLXFm97hQBdi_D4TJP9JKzmOemtZrfgBxlA7iZHMhCCNkctZ_7ppPeN9-HPEFmiwNaRiwfma3XB2RHI7-X_dGE2imm2MqwLYJl7vCi7Iow5XHy_mhQsT3Lx9cSnpwvcazY1LTs_y-tjgIGXCaEmRPc1aOQNAC-Q3eKIisDo4851rGGX2KuvOq-rk5xniizWkStZbRHr5UTJH6G7pUDM3zZrCATuPkegRbW7vP758eDGLySMuOejurjSrDvVMXrPRxZ9Hog_znjG62nx-jJ9yruwhMTzchBiOSilZCHslRub3zFRMV5ueSFNEgEuaLbVnfs_jZ_zXS9sPLkG0Jz7ejCJByZJoM7oOdMwug54Hu58NSh6MvzCbi1Mnoj3HW0HVSbdisp12Kr-n8mb132wjIlQUiNuGIk52Qp9DffycTMiF8tTmkFJ2pDcdvtFGJ8-qo7y0xGkevPsUV4gnrAJWk3YAwzoJWnKZpdlIurFAdcLGyvqdlxoq8JA2zn55BM9slR-exV_3UkQgCAX454YaLWF5CV40t6rr5FoiwHrAW2r2grkv_mJJhaWTxylxsasAZxTKiUnq8A3ofx_EzFmeZMD40VTSOGNJj9O_uBtpTrirzVZAgzvReu0TIqBphA",
    "refresh_token": "def50200724dd0836f8c501abb2340113a011a8526c2e2aaacac377c9abdc9faed562fa67e13d4ffee8f358e42add42955315ce91fc4cf7838c5d3a2438316850d014e2bc10d4747ac95805a77b024becaf272a9f22f48404f65abe9423d6f6a98ea2600fba0519c85adce9e01a76284dad2da963349d6e0fd83acf8fc2c7142080054f6f7179a2ba3a4634475c5cb13d223c60c5c66f39111ca88e0de45eda88ddc23af62f8382c5abc777c9d22a7af8895876e9e9f7d34e1a3e0a46da3d6a604345c68d8af206613d2e4a8f0bbec9cfc9f31238a1d89a9d86bb168c247e5627e4227f8cb25a40565a8bff30039aff0b71c4a74f8544497027f23f6073977d1bb5a7f14a9b4dcdbda28f76febde3142037de96834ef8b3c767b76de2cd81dcf913c33ca4a158ea44aa4e16d2f30ce3f6ee5892ab5261a9b1e7712ce41f2d95fb2e5b8e915bc8fb279eacd3fa14e029143666cfb97897619a5dda7d0a65129"
}
```

### Get token
Request :
```
curl -X POST \
  http://poster.dev/oauth/token \
  -H 'cache-control: no-cache' \
  -H 'content-type: application/json' \
  -d '{
	"username": "mail@domain.co",
	"password": "1234",
	"grant_type": "password"
}'
```

Response :
```
{
    "token_type": "Bearer",
    "expires_in": 599,
    "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6IjQ2Mzc3NGI1YmE3NzI0Y2EwMWY3ODMxMmRlOGUxYmRjY2E2Y2I0MzQzYjQxZjhkNmMxODAyMWMxNDAwNjQzMWQ3N2IwNDQ4ZWJmNWI3ZWIxIn0.eyJhdWQiOiIyIiwianRpIjoiNDYzNzc0YjViYTc3MjRjYTAxZjc4MzEyZGU4ZTFiZGNjYTZjYjQzNDNiNDFmOGQ2YzE4MDIxYzE0MDA2NDMxZDc3YjA0NDhlYmY1YjdlYjEiLCJpYXQiOjE1MTA3NzIwMTksIm5iZiI6MTUxMDc3MjAxOSwiZXhwIjoxNTEwNzcyNjE4LCJzdWIiOiIyIiwic2NvcGVzIjpbXX0.j5FGcNtWMry_NDJwx9H0cSM2IyF9w3EgY_zj1pKTasUrgoLXFm97hQBdi_D4TJP9JKzmOemtZrfgBxlA7iZHMhCCNkctZ_7ppPeN9-HPEFmiwNaRiwfma3XB2RHI7-X_dGE2imm2MqwLYJl7vCi7Iow5XHy_mhQsT3Lx9cSnpwvcazY1LTs_y-tjgIGXCaEmRPc1aOQNAC-Q3eKIisDo4851rGGX2KuvOq-rk5xniizWkStZbRHr5UTJH6G7pUDM3zZrCATuPkegRbW7vP758eDGLySMuOejurjSrDvVMXrPRxZ9Hog_znjG62nx-jJ9yruwhMTzchBiOSilZCHslRub3zFRMV5ueSFNEgEuaLbVnfs_jZ_zXS9sPLkG0Jz7ejCJByZJoM7oOdMwug54Hu58NSh6MvzCbi1Mnoj3HW0HVSbdisp12Kr-n8mb132wjIlQUiNuGIk52Qp9DffycTMiF8tTmkFJ2pDcdvtFGJ8-qo7y0xGkevPsUV4gnrAJWk3YAwzoJWnKZpdlIurFAdcLGyvqdlxoq8JA2zn55BM9slR-exV_3UkQgCAX454YaLWF5CV40t6rr5FoiwHrAW2r2grkv_mJJhaWTxylxsasAZxTKiUnq8A3ofx_EzFmeZMD40VTSOGNJj9O_uBtpTrirzVZAgzvReu0TIqBphA",
    "refresh_token": "def50200724dd0836f8c501abb2340113a011a8526c2e2aaacac377c9abdc9faed562fa67e13d4ffee8f358e42add42955315ce91fc4cf7838c5d3a2438316850d014e2bc10d4747ac95805a77b024becaf272a9f22f48404f65abe9423d6f6a98ea2600fba0519c85adce9e01a76284dad2da963349d6e0fd83acf8fc2c7142080054f6f7179a2ba3a4634475c5cb13d223c60c5c66f39111ca88e0de45eda88ddc23af62f8382c5abc777c9d22a7af8895876e9e9f7d34e1a3e0a46da3d6a604345c68d8af206613d2e4a8f0bbec9cfc9f31238a1d89a9d86bb168c247e5627e4227f8cb25a40565a8bff30039aff0b71c4a74f8544497027f23f6073977d1bb5a7f14a9b4dcdbda28f76febde3142037de96834ef8b3c767b76de2cd81dcf913c33ca4a158ea44aa4e16d2f30ce3f6ee5892ab5261a9b1e7712ce41f2d95fb2e5b8e915bc8fb279eacd3fa14e029143666cfb97897619a5dda7d0a65129"
}
```

### Refresh if token is dead

Request :
```
curl -X POST \
  http://poster.dev/oauth/token \
  -H 'cache-control: no-cache' \
  -H 'content-type: application/json' \
  -d '{
	"refresh_token": "def50200724dd0836f8c501abb2340113a011a8526c2e2aaacac377c9abdc9faed562fa67e13d4ffee8f358e42add42955315ce91fc4cf7838c5d3a2438316850d014e2bc10d4747ac95805a77b024becaf272a9f22f48404f65abe9423d6f6a98ea2600fba0519c85adce9e01a76284dad2da963349d6e0fd83acf8fc2c7142080054f6f7179a2ba3a4634475c5cb13d223c60c5c66f39111ca88e0de45eda88ddc23af62f8382c5abc777c9d22a7af8895876e9e9f7d34e1a3e0a46da3d6a604345c68d8af206613d2e4a8f0bbec9cfc9f31238a1d89a9d86bb168c247e5627e4227f8cb25a40565a8bff30039aff0b71c4a74f8544497027f23f6073977d1bb5a7f14a9b4dcdbda28f76febde3142037de96834ef8b3c767b76de2cd81dcf913c33ca4a158ea44aa4e16d2f30ce3f6ee5892ab5261a9b1e7712ce41f2d95fb2e5b8e915bc8fb279eacd3fa14e029143666cfb97897619a5dda7d0a65129",
	"grant_type": "refresh_token"
}'
```

Response :
```
{
    "token_type": "Bearer",
    "expires_in": 600,
    "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6IjYyYTMyMGViNjQxZmYyNmUwNjE5OTFhOWZhNjc2Y2I1NjhkYWQwMjM3NmMyNmM2ZDVhMDFiYzZkNzJiNWVmMGFjNTUxMDY0OTM3YTg0ZWI4In0.eyJhdWQiOiIyIiwianRpIjoiNjJhMzIwZWI2NDFmZjI2ZTA2MTk5MWE5ZmE2NzZjYjU2OGRhZDAyMzc2YzI2YzZkNWEwMWJjNmQ3MmI1ZWYwYWM1NTEwNjQ5MzdhODRlYjgiLCJpYXQiOjE1MTA3NzI2NDAsIm5iZiI6MTUxMDc3MjY0MCwiZXhwIjoxNTEwNzczMjQwLCJzdWIiOiIyIiwic2NvcGVzIjpbXX0.BQ3Y79Qycsj7doUEPsGSjNXvpSJokkSArZTE1wDjyT9ANQ3_9IhcQH9urczKGL6CwEPcbgP5uEUzFs1zo_7He6CxyxY55VUq_llGrvU9LB-ipbvJAGX178KEYoKWERRJihnt9rBe5zgvunYnq49SaW1M6YV0weE8xNG6XQUigFF3lFgpoh2Tp5mweVZMB2QqmgpekfuP4qjf3qJ9_x_T7jERT-dUXJC-sbjZI5xcpTGNuqgtMVl9FHfmt1rVp8Alyt-EvH3kWjVnW-GsO92XXjaBcREGJRreqHqkFCUZWVgfDO0jH9bl3DvsOt8twsKNWrfdOWC0cEPe0cdtUEvgIT41fSJVMXgB3sEPsD7j4CeboE2NTrTN6ZoPrGtDq6jVrE86t81P2rlWrSXJcwC87WPRhybOpcqFWeQIGN4zOzgQ4oAhJEya0-klwKYMA0Q75yhgfSVXr4WvJNLh4OVXYB6B9jl9ClMTjPYgxYOsXjaIKqkkaJgGR4TpwSgh4JRQz6zWn4y92Qmz5UR1KHwD8tCEeLL7SJaODPNjsf8fWjaVEobHMLqp3jBvinjkcEJ1cCPewv0T3ZB4q5sZRF6Md2UyHNsMbZgK7LpfZgGLhOEmye2zxPAPn7rDV0TCnBkUJcT0cc7JuXUBeCxh4L55fixUpuHOkOXSKTYHiNX2PQE",
    "refresh_token": "def50200a5256bdff059843bc3d4aff6ec14307d1013226327ce9560a2222ee66b975b4a08fa07ae9a4dbda046ec1c21dc6269df9a14d04347c6d4e32fa3dec05476258cb0c227fbff8f60463f00d24d67065ad756dfb53ea3f5ef0a09c08a9844d022f23c525426d8efa53ab6dfa24a33a582d9f946c412aa00f8626fbc4038c3cfb96359588578ce5734e4e663e2e0443754f0530973326ca196551a325d8af04a15c9a50b9f8e8917998ab44d65ebb423f0edb91cee102fb22cbc396c58da9c33e47f297e69aea30105939befb1c9f5bfe9dd87321c343527624dd75fee824dc2a9d5f52cf0ccc25eb4b1c132e622b5d3694c1d23f1e5f5647fd1dfed0c001afbf95e3fce309aa8c00769abe2b7b5d97eb00e30839f9d7dfdf9581bff3a0456010dd47c8dc6d6b65a937fbe683c2665b2abcb53fc30e3e9278d147e405ecc860ce7aea62d70bca8f76615dd1e6b1109909d023821312f7fa3dcc4bc12b8"
}
```

### Example API request

Request :
```
curl -X GET \
  http://poster.dev/api/user \
  -H 'accept: application/json' \
  -H 'authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6IjhlNTA0ZGViZTVjODdhNzZiYWE5YWViMmRkZjcwZWIxZWZiMDllMWE3OTgwOWExODA0NDQ5YWI0MGEyZDg5NjAxMTRiZTdlOTM5ZTAzYWZjIn0.eyJhdWQiOiIyIiwianRpIjoiOGU1MDRkZWJlNWM4N2E3NmJhYTlhZWIyZGRmNzBlYjFlZmIwOWUxYTc5ODA5YTE4MDQ0NDlhYjQwYTJkODk2MDExNGJlN2U5MzllMDNhZmMiLCJpYXQiOjE1MTA0NDU5NTMsIm5iZiI6MTUxMDQ0NTk1MywiZXhwIjoxNTEwNDQ2NTUyLCJzdWIiOiIxIiwic2NvcGVzIjpbXX0.ZKp2ZwaJZknZ9KROYcCAUwPPvlKujA783cMCTkiKr9BER8NiqR5O16MosR6xicXazQJpBCSNIVBfOpOnQTp1M1ixjchpVZ1_5Mjc3EYKspMxY7ttty-7o2oBwOXLEq9aT6vJAlofdYM0KL-IUS8ybIuQBaTFjTI4pJ9M2Kz_W7cOef8EsHTLJ09RIe2J19FrhbGrmZNr_nVYeoVE4XbAZxQk9i7Hbg4TkVo7K4kFY4sQaFeNsPXiTNE8We2nlXEtVzI6FHOCppviEnzKIfrZYExhC4jgSS9y1tGmKRzv-qyVF8c3l-r3-LBsq6NuMo7Q7VtiKRzMe1rQqU932hpT3znip_wCYsiUrYp4DyLOf9TifNhMF18UrIC3hdr2yAO6cNRU0HP-Do2ZspNoM3ReVTI6DXXd2PrX0qhaO15cqKWdsHF_sq2J_IBDBdG2abnnbErMqG_uJU6EvvLy4ubl0g3_wcl9fridRKBEdkTD6lbFQjj08QcMpQmvSTEGWM01x1nBsMrO9-252UkdiitDNdtMSUwj5IVmeRJa8wdOZ3SjJYI2kFbHJoeqIaauxlZXuvWdH9VHePydEutNZXpG0U_Ap-zkX9LJHSiHC5GdJhqmxZs7lAHIjYzfuBNszXQBU-QgWF3VX3c831Srtl502oy6hyhQ1OMlOhEVkBlNfKg' \
  -H 'cache-control: no-cache' \
  -H 'content-type: application/json' \
```

Response :
```
{
    "id": 1,
    "name": "Name",
    "email": "mail@domain.co",
    "created_at": null,
    "updated_at": null
}
```
